"use strict";(self.webpackChunkleovegas_interview=self.webpackChunkleovegas_interview||[]).push([[205],{3369:function(t,e,n){n.d(e,{Z:function(){return a}});var r="styles_emptyList__AbO7I",i=n(184);var a=function(){return(0,i.jsx)("div",{className:r,children:"Movies list is empty!"})}},4334:function(t,e,n){n.d(e,{Z:function(){return M}});var r=n(8152),i=n(2791),a={ellipsis:"styles_ellipsis__26MX-",poster:"styles_poster__wBl26",content:"styles_content__nuCBS",title:"styles_title__ZKAdU styles_ellipsis__26MX-",actions:"styles_actions__yyX7y"},l=n(1413),s=n(4925),c=n(2424),o=n(184),u=["src","alt"];function f(t){return t?"https://www.themoviedb.org/t/p/w220_and_h330_face"+t:c}var v=function(t){var e=t.src,n=t.alt,r=(0,s.Z)(t,u);return(0,o.jsx)("img",(0,l.Z)((0,l.Z)({decoding:"async",loading:"lazy",src:f(e)},r),{},{alt:n||"image not available"}))},d="styles_card__NubT7";var h=function(t){var e=t.children;return(0,o.jsx)("div",{className:d,children:e})},_=n(1694),m=n.n(_),g=n(4942),p="styles_favoriteButton__yu9Lq",y="styles_svg__MxAtk",b="styles_active__D18wb";var w,j=function(t){var e=t.active,n=t.className,r=t.icon,i=t.label,a=t.onClick;return(0,o.jsx)("button",{className:p,onClick:a,"aria-label":i,children:(0,o.jsx)(r,{className:m()(y,n,(0,g.Z)({},b,e)),title:i})})},O=["title","titleId"];function x(){return x=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},x.apply(this,arguments)}function I(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n,r,i={},a=Object.keys(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Z(t,e){var n=t.title,r=t.titleId,a=I(t,O);return i.createElement("svg",x({xmlns:"http://www.w3.org/2000/svg",width:128,height:128,viewBox:"0 0 128 128",ref:e,"aria-labelledby":r},a),void 0===n?i.createElement("title",{id:r},"star"):n?i.createElement("title",{id:r},n):null,w||(w=i.createElement("path",{d:"M48.82 45.002l12.787-27.581c0.876-1.881 3.436-1.899 4.329-0.030l13.14 27.403c0.358 0.744 1.041 1.256 1.826 1.369l29.010 4.197c1.985 0.292 2.793 2.834 1.365 4.304l-20.836 21.545c-0.563 0.583-0.819 1.423-0.677 2.244l5.142 30.177c0.353 2.054-1.707 3.649-3.487 2.685l-26.012-14.085c-0.705-0.381-1.547-0.375-2.247 0.018l-25.836 14.448c-1.763 0.988-3.845-0.578-3.521-2.637l4.761-30.248c0.131-0.822-0.136-1.655-0.705-2.233l-21.115-21.253c-1.445-1.453-0.666-4.001 1.308-4.316l28.959-4.614c0.785-0.125 1.462-0.643 1.809-1.393z"})))}var C,T=i.forwardRef(Z),S=(n.p,["title","titleId"]);function N(){return N=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},N.apply(this,arguments)}function A(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n,r,i={},a=Object.keys(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function E(t,e){var n=t.title,r=t.titleId,a=A(t,S);return i.createElement("svg",N({xmlns:"http://www.w3.org/2000/svg",width:128,height:128,viewBox:"0 0 128 128",ref:e,"aria-labelledby":r},a),void 0===n?i.createElement("title",{id:r},"plus"):n?i.createElement("title",{id:r},n):null,C||(C=i.createElement("path",{d:"M110 58h-40v-40c0-1.105-0.895-2-2-2h-8c-1.105 0-2 0.895-2 2v40h-40c-1.105 0-2 0.895-2 2v8c0 1.105 0.895 2 2 2h40v40c0 1.105 0.895 2 2 2h8c1.105 0 2-0.895 2-2v-40h40c1.105 0 2-0.895 2-2v-8c0-1.105-0.895-2-2-2z"})))}var k=i.forwardRef(E),B=(n.p,n(6)),L=n(1043);var R=function(t){var e=t.data,n=t.className,l=t.onChange,s=(0,i.useState)(B.Z.findInFavorites(e.id)),c=(0,r.Z)(s,2),u=c[0],f=c[1],d=(0,i.useState)(B.Z.findInWatchList(e.id)),_=(0,r.Z)(d,2),g=_[0],p=_[1],y=(0,i.useCallback)((function(){u?B.Z.remove(B.B.FAVORITE,e.id):(B.Z.set(B.B.FAVORITE,e),(0,L.Z)("".concat(e.title," added to your favorites list"))),f((function(t){return!t})),l&&l(e)}),[e,u,l]),b=(0,i.useCallback)((function(){g?B.Z.remove(B.B.WATCH_LIST,e.id):(B.Z.set(B.B.WATCH_LIST,e),(0,L.Z)("".concat(e.title," added to your watch list"))),p((function(t){return!t})),l&&l(e)}),[e,l,g]);return(0,o.jsx)("div",{className:m()(a.movieItem,n),children:(0,o.jsxs)(h,{children:[(0,o.jsx)(v,{className:a.poster,src:e.poster_path,alt:e.title}),(0,o.jsxs)("div",{className:a.content,children:[(0,o.jsx)("h2",{className:a.title,title:e.title,children:e.title}),(0,o.jsxs)("small",{children:["Release: ",e.release_date]})]}),(0,o.jsxs)("div",{className:a.actions,children:[(0,o.jsx)(j,{label:"Watch Later",icon:k,active:g,onClick:b}),(0,o.jsx)(j,{label:"Favorite",icon:T,active:u,onClick:y})]})]})})},F="styles_results__rV1M+",W="styles_movieItem__LJY-u";var M=function(t){var e=t.movies,n=t.onChange;return(0,o.jsx)("div",{className:F,children:e.map((function(t){return(0,o.jsx)(R,{onChange:n,className:W,data:t},t.id)}))})}},8786:function(t,e,n){n.r(e),n.d(e,{default:function(){return v}});var r=n(8152),i="styles_moviesList__zBXBl",a=n(4334),l=n(6),s=n(2791),c=n(6074),o=n(3369),u=n(184);function f(){return(0,c.Z)(l.Z.getArray(l.B.FAVORITE))}var v=function(){var t=(0,s.useState)(f()),e=(0,r.Z)(t,2),n=e[0],l=e[1],c=n.length>0,v=(0,s.useCallback)((function(){l(f())}),[]);return(0,u.jsx)("div",{className:i,children:c?(0,u.jsx)(a.Z,{onChange:v,movies:n}):(0,u.jsx)(o.Z,{})})}},6:function(t,e,n){n.d(e,{B:function(){return r},Z:function(){return s}});var r,i=n(1413),a={},l={get:function(t){var e=localStorage.getItem(t);if(e){var n=JSON.parse(e);return this.setCache(t,n),n}},set:function(t,e){localStorage.setItem(t,JSON.stringify(e)),this.setCache(t,e)},setCache:function(t,e){a[t]=e}};!function(t){t.FAVORITE="FAVORITE",t.WATCH_LIST="WATCH_LIST"}(r||(r={}));var s={get:function(t){var e=l.get(t);return null!==e&&void 0!==e?e:{}},set:function(t,e){var n=this.get(t);n[e.id]=(0,i.Z)((0,i.Z)({},e),{},{created_at:(new Date).toUTCString()}),l.set(t,n)},remove:function(t,e){var n=this.get(t);Reflect.deleteProperty(n,e),l.set(t,n)},findItems:function(t,e){var n=this.get(t);return Boolean(n[e])},findInFavorites:function(t){return this.findItems(r.FAVORITE,t)},findInWatchList:function(t){return this.findItems(r.WATCH_LIST,t)},getArray:function(t){return Object.values(this.get(t))}}},6074:function(t,e,n){function r(t){return t.sort((function(t,e){return t.created_at&&e.created_at?new Date(e.created_at).getTime()-new Date(t.created_at).getTime():0}))}n.d(e,{Z:function(){return r}})},2424:function(t,e,n){t.exports=n.p+"static/media/no-image-placeholder.58999c750e547ec1c4d7.png"}}]);
//# sourceMappingURL=favorites.12a869fa.chunk.js.map