"use strict";(self.webpackChunkleovegas_interview=self.webpackChunkleovegas_interview||[]).push([[313],{3369:function(t,e,n){n.d(e,{Z:function(){return a}});var r="styles_emptyList__AbO7I",i=n(184);var a=function(){return(0,i.jsx)("div",{className:r,children:"Movies list is empty!"})}},4334:function(t,e,n){n.d(e,{Z:function(){return M}});var r=n(8152),i=n(2791),a=n(1413),s=n(4925),l=n(2424),c=n(3323),o=n(184),u=["src","alt"];function f(t){return t?c.z2+t:l}var d=function(t){var e=t.src,n=t.alt,r=(0,s.Z)(t,u);return(0,o.jsx)("img",(0,a.Z)((0,a.Z)({decoding:"async",loading:"lazy",src:f(e)},r),{},{alt:n||"image not available"}))},v="styles_card__NubT7";var h=function(t){var e=t.children;return(0,o.jsx)("div",{className:v,children:e})},_=n(1043),m=n(1694),g=n.n(m),y=n(4942),p="styles_favoriteButton__yu9Lq",b="styles_svg__MxAtk",w="styles_active__D18wb";var j,O=function(t){var e=t.active,n=t.className,r=t.icon,i=t.label,a=t.onClick;return(0,o.jsx)("button",{className:p,onClick:a,title:i,"aria-label":i,children:(0,o.jsx)(r,{className:g()(b,n,(0,y.Z)({},w,e))})})},x=["title","titleId"];function I(){return I=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},I.apply(this,arguments)}function C(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n,r,i={},a=Object.keys(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Z(t,e){var n=t.title,r=t.titleId,a=C(t,x);return i.createElement("svg",I({xmlns:"http://www.w3.org/2000/svg",width:128,height:128,viewBox:"0 0 128 128",ref:e,"aria-labelledby":r},a),void 0===n?i.createElement("title",{id:r},"star"):n?i.createElement("title",{id:r},n):null,j||(j=i.createElement("path",{d:"M48.82 45.002l12.787-27.581c0.876-1.881 3.436-1.899 4.329-0.030l13.14 27.403c0.358 0.744 1.041 1.256 1.826 1.369l29.010 4.197c1.985 0.292 2.793 2.834 1.365 4.304l-20.836 21.545c-0.563 0.583-0.819 1.423-0.677 2.244l5.142 30.177c0.353 2.054-1.707 3.649-3.487 2.685l-26.012-14.085c-0.705-0.381-1.547-0.375-2.247 0.018l-25.836 14.448c-1.763 0.988-3.845-0.578-3.521-2.637l4.761-30.248c0.131-0.822-0.136-1.655-0.705-2.233l-21.115-21.253c-1.445-1.453-0.666-4.001 1.308-4.316l28.959-4.614c0.785-0.125 1.462-0.643 1.809-1.393z"})))}var S,T=i.forwardRef(Z),A=(n.p,["title","titleId"]);function N(){return N=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},N.apply(this,arguments)}function E(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n,r,i={},a=Object.keys(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function k(t,e){var n=t.title,r=t.titleId,a=E(t,A);return i.createElement("svg",N({xmlns:"http://www.w3.org/2000/svg",width:128,height:128,viewBox:"0 0 128 128",ref:e,"aria-labelledby":r},a),void 0===n?i.createElement("title",{id:r},"plus"):n?i.createElement("title",{id:r},n):null,S||(S=i.createElement("path",{d:"M110 58h-40v-40c0-1.105-0.895-2-2-2h-8c-1.105 0-2 0.895-2 2v40h-40c-1.105 0-2 0.895-2 2v8c0 1.105 0.895 2 2 2h40v40c0 1.105 0.895 2 2 2h8c1.105 0 2-0.895 2-2v-40h40c1.105 0 2-0.895 2-2v-8c0-1.105-0.895-2-2-2z"})))}var B=i.forwardRef(k),L=(n.p,n(6)),R={ellipsis:"styles_ellipsis__26MX-",poster:"styles_poster__wBl26",content:"styles_content__nuCBS",title:"styles_title__ZKAdU styles_ellipsis__26MX-",actions:"styles_actions__yyX7y"};var W=function(t){var e=t.data,n=t.className,a=t.onChange,s=(0,i.useState)(L.Z.findInFavorites(e.id)),l=(0,r.Z)(s,2),c=l[0],u=l[1],f=(0,i.useState)(L.Z.findInWatchList(e.id)),v=(0,r.Z)(f,2),m=v[0],y=v[1],p=(0,i.useCallback)((function(){c?L.Z.remove(L.B.FAVORITE,e.id):(L.Z.set(L.B.FAVORITE,e),(0,_.Z)("".concat(e.title," added to your favorites list"))),u((function(t){return!t})),a&&a(e)}),[e,c,a]),b=(0,i.useCallback)((function(){m?L.Z.remove(L.B.WATCH_LIST,e.id):(L.Z.set(L.B.WATCH_LIST,e),(0,_.Z)("".concat(e.title," added to your watch list"))),y((function(t){return!t})),a&&a(e)}),[e,a,m]);return(0,o.jsx)("div",{className:g()(R.movieItem,n),children:(0,o.jsxs)(h,{children:[(0,o.jsx)(d,{className:R.poster,src:e.poster_path,alt:e.title}),(0,o.jsxs)("div",{className:R.content,children:[(0,o.jsx)("h2",{className:R.title,title:e.title,children:e.title}),(0,o.jsxs)("small",{children:["Release: ",e.release_date]})]}),(0,o.jsxs)("div",{className:R.actions,children:[(0,o.jsx)(O,{label:"Watch Later",icon:B,active:m,onClick:b}),(0,o.jsx)(O,{label:"Favorite",icon:T,active:c,onClick:p})]})]})})},F="styles_results__rV1M+",H="styles_movieItem__LJY-u";var M=function(t){var e=t.movies,n=t.onChange;return(0,o.jsx)("div",{className:F,children:e.map((function(t){return(0,o.jsx)(W,{onChange:n,className:H,data:t},t.id)}))})}},3323:function(t,e,n){n.d(e,{$h:function(){return r},H:function(){return i},z2:function(){return a}});var r="6b339d4c11e8f7f94c9b20c4d614a499",i="https://api.themoviedb.org",a="https://www.themoviedb.org/t/p/w220_and_h330_face"},3739:function(t,e,n){n.r(e),n.d(e,{default:function(){return f}});var r=n(8152),i=n(2791),a=n(4334),s=n(6),l=n(3369),c="styles_moviesList__egjl5",o=n(184);function u(){return s.Z.getSortedArray(s.B.WATCH_LIST)}var f=function(){var t=(0,i.useState)(u()),e=(0,r.Z)(t,2),n=e[0],s=e[1],f=n.length>0,d=(0,i.useCallback)((function(){s(u())}),[]);return(0,o.jsx)("div",{className:c,children:f?(0,o.jsx)(a.Z,{onChange:d,movies:n}):(0,o.jsx)(l.Z,{})})}},6:function(t,e,n){n.d(e,{B:function(){return r},Z:function(){return l}});var r,i=n(1413),a={},s={get:function(t){var e=localStorage.getItem(t);if(e){var n=JSON.parse(e);return this.setCache(t,n),n}},set:function(t,e){localStorage.setItem(t,JSON.stringify(e)),this.setCache(t,e)},setCache:function(t,e){a[t]=e}};!function(t){t.FAVORITE="FAVORITE",t.WATCH_LIST="WATCH_LIST"}(r||(r={}));var l={get:function(t){var e=s.get(t);return null!==e&&void 0!==e?e:{}},set:function(t,e){var n=this.get(t);n[e.id]=(0,i.Z)((0,i.Z)({},e),{},{created_at:(new Date).toUTCString()}),s.set(t,n)},remove:function(t,e){var n=this.get(t);Reflect.deleteProperty(n,e),s.set(t,n)},findItem:function(t,e){var n=this.get(t);return Boolean(n[e])},findInFavorites:function(t){return this.findItem(r.FAVORITE,t)},findInWatchList:function(t){return this.findItem(r.WATCH_LIST,t)},getArray:function(t){return Object.values(this.get(t))},getSortedArray:function(t){return this.sortByCreatedDate(this.getArray(t))},sortByCreatedDate:function(t){return t.sort((function(t,e){return t.created_at&&e.created_at?new Date(e.created_at).getTime()-new Date(t.created_at).getTime():0}))}}},2424:function(t,e,n){t.exports=n.p+"static/media/no-image-placeholder.58999c750e547ec1c4d7.png"}}]);
//# sourceMappingURL=watch-list.2cfc1f35.chunk.js.map