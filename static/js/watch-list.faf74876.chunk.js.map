{"version":3,"file":"static/js/watch-list.faf74876.chunk.js","mappings":"6JACA,MAAgE,0B,SCKhE,MAJA,WACE,OAAO,gBAAKA,UAAWC,EAAhB,qC,6ECFT,GAAgB,SAAW,yBAAyB,OAAS,uBAAuB,QAAU,wBAAwB,MAAQ,6CAA6C,QAAU,yB,uDCcrL,SAASC,EAAaC,GACpB,OAAKA,EAEE,oDAAsDA,EAF3CC,EAKpB,MAlBA,YAA6E,IAA5DC,EAA2D,EAA3DA,IAAKC,EAAsD,EAAtDA,IAAQC,GAA8C,YAC1E,OACE,gCACEC,SAAS,QACTC,QAAQ,OACRJ,IAAKH,EAAaG,IACdE,GAJN,IAKED,IAAKA,GAAO,0BCTlB,EAA2D,qBCU3D,MAJA,YAAoC,IAApBI,EAAmB,EAAnBA,SACd,OAAO,gBAAKV,UAAWC,EAAhB,SAA8BS,K,6BCPvC,EAAqE,+BAArE,EAA0G,oBAA1G,EAAuI,uBC0BvI,IC3BIC,ED2BJ,EAhBA,YAAgF,IAAzDC,EAAwD,EAAxDA,OAAQZ,EAAgD,EAAhDA,UAAiBa,EAA+B,EAArCC,KAAYC,EAAyB,EAAzBA,MAAOC,EAAkB,EAAlBA,QAC3D,OACE,mBACEhB,UAAWC,EACXe,QAASA,EACT,aAAYD,EAHd,UAIE,SAACF,EAAD,CACEb,UAAWiB,GAAAA,CAAWhB,EAAYD,GAAb,UAClBC,EAAgBW,IAEnBM,MAAOH,OCnBX,EAAY,CAAC,QAAS,WAE1B,SAASI,IAA2Q,OAA9PA,EAAWC,OAAOC,QAAU,SAAUC,GAAU,IAAK,IAAIC,EAAI,EAAGA,EAAIC,UAAUC,OAAQF,IAAK,CAAE,IAAIG,EAASF,UAAUD,GAAI,IAAK,IAAII,KAAOD,EAAcN,OAAOQ,UAAUC,eAAeC,KAAKJ,EAAQC,KAAQL,EAAOK,GAAOD,EAAOC,IAAY,OAAOL,GAAkBH,EAASY,MAAMC,KAAMR,WAEhT,SAASS,EAAyBP,EAAQQ,GAAY,GAAc,MAAVR,EAAgB,MAAO,GAAI,IAAkEC,EAAKJ,EAAnED,EAEzF,SAAuCI,EAAQQ,GAAY,GAAc,MAAVR,EAAgB,MAAO,GAAI,IAA2DC,EAAKJ,EAA5DD,EAAS,GAAQa,EAAaf,OAAOgB,KAAKV,GAAqB,IAAKH,EAAI,EAAGA,EAAIY,EAAWV,OAAQF,IAAOI,EAAMQ,EAAWZ,GAAQW,EAASG,QAAQV,IAAQ,IAAaL,EAAOK,GAAOD,EAAOC,IAAQ,OAAOL,EAFxMgB,CAA8BZ,EAAQQ,GAAuB,GAAId,OAAOmB,sBAAuB,CAAE,IAAIC,EAAmBpB,OAAOmB,sBAAsBb,GAAS,IAAKH,EAAI,EAAGA,EAAIiB,EAAiBf,OAAQF,IAAOI,EAAMa,EAAiBjB,GAAQW,EAASG,QAAQV,IAAQ,GAAkBP,OAAOQ,UAAUa,qBAAqBX,KAAKJ,EAAQC,KAAgBL,EAAOK,GAAOD,EAAOC,IAAU,OAAOL,EAMne,SAASoB,EAAQC,EAAMC,GACrB,IAAI1B,EAAQyB,EAAKzB,MACb2B,EAAUF,EAAKE,QACftC,EAAQ0B,EAAyBU,EAAM,GAE3C,OAAoB,gBAAoB,MAAOxB,EAAS,CACtD2B,MAAO,6BACPC,MAAO,IACPC,OAAQ,IACRC,QAAS,cACTC,IAAKN,EACL,kBAAmBC,GAClBtC,QAAkB4C,IAAVjC,EAAmC,gBAAoB,QAAS,CACzEkC,GAAIP,GACH,QAAU3B,EAAqB,gBAAoB,QAAS,CAC7DkC,GAAIP,GACH3B,GAAS,KAAMP,IAAUA,EAAqB,gBAAoB,OAAQ,CAC3E0C,EAAG,4gBAIP,ICjCI,EDiCAC,EAA0B,aAAiBZ,GC/B3C,GDgCW,IChCC,CAAC,QAAS,YAE1B,SAAS,IAA2Q,OAA9P,EAAWtB,OAAOC,QAAU,SAAUC,GAAU,IAAK,IAAIC,EAAI,EAAGA,EAAIC,UAAUC,OAAQF,IAAK,CAAE,IAAIG,EAASF,UAAUD,GAAI,IAAK,IAAII,KAAOD,EAAcN,OAAOQ,UAAUC,eAAeC,KAAKJ,EAAQC,KAAQL,EAAOK,GAAOD,EAAOC,IAAY,OAAOL,GAAkB,EAASS,MAAMC,KAAMR,WAEhT,SAAS,EAAyBE,EAAQQ,GAAY,GAAc,MAAVR,EAAgB,MAAO,GAAI,IAAkEC,EAAKJ,EAAnED,EAEzF,SAAuCI,EAAQQ,GAAY,GAAc,MAAVR,EAAgB,MAAO,GAAI,IAA2DC,EAAKJ,EAA5DD,EAAS,GAAQa,EAAaf,OAAOgB,KAAKV,GAAqB,IAAKH,EAAI,EAAGA,EAAIY,EAAWV,OAAQF,IAAOI,EAAMQ,EAAWZ,GAAQW,EAASG,QAAQV,IAAQ,IAAaL,EAAOK,GAAOD,EAAOC,IAAQ,OAAOL,EAFxM,CAA8BI,EAAQQ,GAAuB,GAAId,OAAOmB,sBAAuB,CAAE,IAAIC,EAAmBpB,OAAOmB,sBAAsBb,GAAS,IAAKH,EAAI,EAAGA,EAAIiB,EAAiBf,OAAQF,IAAOI,EAAMa,EAAiBjB,GAAQW,EAASG,QAAQV,IAAQ,GAAkBP,OAAOQ,UAAUa,qBAAqBX,KAAKJ,EAAQC,KAAgBL,EAAOK,GAAOD,EAAOC,IAAU,OAAOL,EAMne,SAASiC,EAAQZ,EAAMC,GACrB,IAAI1B,EAAQyB,EAAKzB,MACb2B,EAAUF,EAAKE,QACftC,EAAQ,EAAyBoC,EAAM,GAE3C,OAAoB,gBAAoB,MAAO,EAAS,CACtDG,MAAO,6BACPC,MAAO,IACPC,OAAQ,IACRC,QAAS,cACTC,IAAKN,EACL,kBAAmBC,GAClBtC,QAAkB4C,IAAVjC,EAAmC,gBAAoB,QAAS,CACzEkC,GAAIP,GACH,QAAU3B,EAAqB,gBAAoB,QAAS,CAC7DkC,GAAIP,GACH3B,GAAS,KAAM,IAAU,EAAqB,gBAAoB,OAAQ,CAC3EmC,EAAG,uNAIP,IAAI,EAA0B,aAAiBE,G,GAChC,I,gBC0Df,MA1EA,YAA0D,IAArCC,EAAoC,EAApCA,KAAMxD,EAA8B,EAA9BA,UAAWyD,EAAmB,EAAnBA,SACpC,GAAgCC,EAAAA,EAAAA,UAC9BC,EAAAA,EAAAA,gBAA6BH,EAAKJ,KADpC,eAAOQ,EAAP,KAAiBC,EAAjB,KAGA,GAAoCH,EAAAA,EAAAA,UAClCC,EAAAA,EAAAA,gBAA6BH,EAAKJ,KADpC,eAAOU,EAAP,KAAoBC,EAApB,KAIMC,GAAuBC,EAAAA,EAAAA,cAAY,WACnCL,EACFD,EAAAA,EAAAA,OAAoBO,EAAAA,EAAAA,SAAsBV,EAAKJ,KAE/CO,EAAAA,EAAAA,IAAiBO,EAAAA,EAAAA,SAAsBV,IACvCW,EAAAA,EAAAA,GAAM,GAAD,OAAIX,EAAKtC,MAAT,mCAGP2C,GAAY,SAAAO,GAAK,OAAKA,KAElBX,GACFA,EAASD,KAEV,CAACA,EAAMI,EAAUH,IAEdY,GAAwBJ,EAAAA,EAAAA,cAAY,WACpCH,EACFH,EAAAA,EAAAA,OAAoBO,EAAAA,EAAAA,WAAwBV,EAAKJ,KAEjDO,EAAAA,EAAAA,IAAiBO,EAAAA,EAAAA,WAAwBV,IACzCW,EAAAA,EAAAA,GAAM,GAAD,OAAIX,EAAKtC,MAAT,+BAGP6C,GAAa,SAAAK,GAAK,OAAKA,KAEnBX,GACFA,EAASD,KAEV,CAACA,EAAMC,EAAUK,IAEpB,OACE,gBAAK9D,UAAWiB,GAAAA,CAAWhB,EAAAA,UAAkBD,GAA7C,UACE,UAAC,EAAD,YACE,SAAC,EAAD,CACEA,UAAWC,EAAAA,OACXI,IAAKmD,EAAKc,YACVhE,IAAKkD,EAAKtC,SAEZ,iBAAKlB,UAAWC,EAAAA,QAAhB,WACE,eAAID,UAAWC,EAAAA,MAAciB,MAAOsC,EAAKtC,MAAzC,SACGsC,EAAKtC,SAER,yCAAiBsC,EAAKe,oBAGxB,iBAAKvE,UAAWC,EAAAA,QAAhB,WACE,SAAC,EAAD,CACEc,MAAM,cACND,KAAM0D,EACN5D,OAAQkD,EACR9C,QAASqD,KAEX,SAAC,EAAD,CACEtD,MAAM,WACND,KAAM2D,EACN7D,OAAQgD,EACR5C,QAASgD,aCjFrB,EAA8D,wBAA9D,EAAkG,0BCuBlG,MAfA,YAAkD,IAA5BU,EAA2B,EAA3BA,OAAQjB,EAAmB,EAAnBA,SAC5B,OACE,gBAAKzD,UAAWC,EAAhB,SACGyE,EAAOC,KAAI,SAAAC,GAAK,OACf,SAAC,EAAD,CAEEnB,SAAUA,EACVzD,UAAWC,EACXuD,KAAMoB,GAHDA,EAAMxB,W,gFCbrB,EAA6H,2B,wDC0B7H,SAASyB,IACP,OAAOC,EAAAA,EAAAA,GAAkBnB,EAAAA,EAAAA,SAAsBO,EAAAA,EAAAA,aAGjD,MAxBA,WACE,OAA4BR,EAAAA,EAAAA,UAASmB,KAArC,eAAOH,EAAP,KAAeK,EAAf,KAEMC,EAAYN,EAAOjD,OAAS,EAE5BwD,GAAehB,EAAAA,EAAAA,cAAY,WAC/Bc,EAAUF,OACT,IAEH,OACE,gBAAK7E,UAAWC,EAAhB,SACG+E,GACC,SAACE,EAAA,EAAD,CAAYzB,SAAUwB,EAAcP,OAAQA,KAE5C,SAACS,EAAA,EAAD,Q,6EClBIjB,E,UCHNkB,EAAQ,GAqBd,EAnBgB,CACdC,IADc,SACV1D,GACF,IAAM2D,EAAQC,aAAaC,QAAQ7D,GACnC,GAAI2D,EAAO,CACT,IAAMG,EAAcC,KAAKC,MAAML,GAG/B,OAFAtD,KAAK4D,SAASjE,EAAK8D,GAEZA,IAGXI,IAVc,SAUVlE,EAAa2D,GACfC,aAAaO,QAAQnE,EAAK+D,KAAKK,UAAUT,IACzCtD,KAAK4D,SAASjE,EAAK2D,IAErBM,SAdc,SAcLjE,EAAa2D,GACpBF,EAAMzD,GAAO2D,KDdjB,SAAYpB,GAAAA,EAAAA,SAAAA,WAAAA,EAAAA,WAAAA,aAAZ,CAAYA,IAAAA,EAAAA,KAOZ,IAuCA,EAvCqB,CACnBmB,IADmB,SACf1D,GACF,IAAM+C,EAASsB,EAAAA,IAAYrE,GAE3B,cAAO+C,QAAP,IAAOA,EAAAA,EAAU,IAEnBmB,IANmB,SAMflE,EAAkBsE,GACpB,IAAMvB,EAAS1C,KAAKqD,IAAI1D,GAExB+C,EAAOuB,EAAK7C,KAAZ,kBACK6C,GADL,IAEEC,YAAY,IAAIC,MAAOC,gBAGzBJ,EAAAA,IAAYrE,EAAK+C,IAEnB2B,OAhBmB,SAgBZ1E,EAAkByB,GACvB,IAAMsB,EAAS1C,KAAKqD,IAAI1D,GAExB2E,QAAQC,eAAe7B,EAAQtB,GAE/B4C,EAAAA,IAAYrE,EAAK+C,IAEnB8B,UAvBmB,SAuBT7E,EAAkByB,GAC1B,IAAMqD,EAAQzE,KAAKqD,IAAI1D,GAEvB,OAAO+E,QAAQD,EAAMrD,KAEvBuD,gBA5BmB,SA4BHvD,GACd,OAAOpB,KAAKwE,UAAUtC,EAAY0C,SAAUxD,IAE9CyD,gBA/BmB,SA+BHzD,GACd,OAAOpB,KAAKwE,UAAUtC,EAAY4C,WAAY1D,IAEhD2D,SAlCmB,SAkCVpF,GACP,OAAOP,OAAO4F,OAAOhF,KAAKqD,IAAI1D,O,qBE3CnB,SAASmD,EAAkBJ,GACxC,OAAOA,EAAOuC,MAAK,SAACC,EAAGC,GAAJ,OACjBD,EAAEhB,YAAciB,EAAEjB,WACd,IAAIC,KAAKgB,EAAEjB,YAAYkB,UAAY,IAAIjB,KAAKe,EAAEhB,YAAYkB,UAC1D,K","sources":["webpack://leovegas-interview/./src/components/EmptyList/styles.module.scss?20bc","components/EmptyList/index.tsx","webpack://leovegas-interview/./src/components/MovieItem/styles.module.scss?c3fc","components/Image/index.tsx","webpack://leovegas-interview/./src/components/Card/styles.module.scss?457f","components/Card/index.tsx","webpack://leovegas-interview/./src/components/MovieAction/styles.module.scss?9def","components/MovieAction/index.tsx","assets/icons/star.svg","assets/icons/plus.svg","components/MovieItem/index.tsx","webpack://leovegas-interview/./src/components/MoviesList/styles.module.scss?935f","components/MoviesList/index.tsx","webpack://leovegas-interview/./src/routes/watch-list/styles.module.scss?6169","routes/watch-list/index.tsx","services/movieStorage.ts","services/storage.ts","utils/sortByReleaseDate.ts"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"ellipsis\":\"styles_ellipsis__CcY5r\",\"emptyList\":\"styles_emptyList__AbO7I\"};","import styles from './styles.module.scss';\n\nfunction EmptyList() {\n  return <div className={styles.emptyList}>Movies list is empty!</div>;\n}\n\nexport default EmptyList;\n","// extracted by mini-css-extract-plugin\nexport default {\"ellipsis\":\"styles_ellipsis__26MX-\",\"poster\":\"styles_poster__wBl26\",\"content\":\"styles_content__nuCBS\",\"title\":\"styles_title__ZKAdU styles_ellipsis__26MX-\",\"actions\":\"styles_actions__yyX7y\"};","import React, { ImgHTMLAttributes } from 'react';\nimport noImage from '../../assets/no-image-placeholder.png';\n\nfunction Image({ src, alt, ...props }: ImgHTMLAttributes<HTMLImageElement>) {\n  return (\n    <img\n      decoding=\"async\"\n      loading=\"lazy\"\n      src={getPosterUrl(src)}\n      {...props}\n      alt={alt || 'image not available'}\n    />\n  );\n}\n\nfunction getPosterUrl(path: string | undefined) {\n  if (!path) return noImage;\n\n  return 'https://www.themoviedb.org/t/p/w220_and_h330_face' + path;\n}\n\nexport default Image;\n","// extracted by mini-css-extract-plugin\nexport default {\"ellipsis\":\"styles_ellipsis__cVSfj\",\"card\":\"styles_card__NubT7\"};","import styles from './styles.module.scss';\nimport { ReactNode } from 'react';\n\ninterface Props {\n  children: ReactNode;\n}\n\nfunction Card({ children }: Props) {\n  return <div className={styles.card}>{children}</div>;\n}\n\nexport default Card;\n","// extracted by mini-css-extract-plugin\nexport default {\"ellipsis\":\"styles_ellipsis__sWBLl\",\"favoriteButton\":\"styles_favoriteButton__yu9Lq\",\"svg\":\"styles_svg__MxAtk\",\"active\":\"styles_active__D18wb\"};","import styles from './styles.module.scss';\nimport classnames from 'classnames';\n\ninterface Props {\n  active: boolean;\n  className?: string;\n  icon: any;\n  label: string;\n  onClick: (event) => void;\n}\n\nfunction MovieAction({ active, className, icon: Icon, label, onClick }: Props) {\n  return (\n    <button\n      className={styles.favoriteButton}\n      onClick={onClick}\n      aria-label={label}>\n      <Icon\n        className={classnames(styles.svg, className, {\n          [styles.active]: active,\n        })}\n        title={label}\n      />\n    </button>\n  );\n}\n\nexport default MovieAction;\n","var _path;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgStar(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: 128,\n    height: 128,\n    viewBox: \"0 0 128 128\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title === undefined ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, \"star\") : title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M48.82 45.002l12.787-27.581c0.876-1.881 3.436-1.899 4.329-0.030l13.14 27.403c0.358 0.744 1.041 1.256 1.826 1.369l29.010 4.197c1.985 0.292 2.793 2.834 1.365 4.304l-20.836 21.545c-0.563 0.583-0.819 1.423-0.677 2.244l5.142 30.177c0.353 2.054-1.707 3.649-3.487 2.685l-26.012-14.085c-0.705-0.381-1.547-0.375-2.247 0.018l-25.836 14.448c-1.763 0.988-3.845-0.578-3.521-2.637l4.761-30.248c0.131-0.822-0.136-1.655-0.705-2.233l-21.115-21.253c-1.445-1.453-0.666-4.001 1.308-4.316l28.959-4.614c0.785-0.125 1.462-0.643 1.809-1.393z\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgStar);\nexport default __webpack_public_path__ + \"static/media/star.57caeba4aab8a276034d7c73ed7019d2.svg\";\nexport { ForwardRef as ReactComponent };","var _path;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgPlus(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: 128,\n    height: 128,\n    viewBox: \"0 0 128 128\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title === undefined ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, \"plus\") : title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M110 58h-40v-40c0-1.105-0.895-2-2-2h-8c-1.105 0-2 0.895-2 2v40h-40c-1.105 0-2 0.895-2 2v8c0 1.105 0.895 2 2 2h40v40c0 1.105 0.895 2 2 2h8c1.105 0 2-0.895 2-2v-40h40c1.105 0 2-0.895 2-2v-8c0-1.105-0.895-2-2-2z\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgPlus);\nexport default __webpack_public_path__ + \"static/media/plus.209d3ac4ee64fedd1b79fd24a47fbfa2.svg\";\nexport { ForwardRef as ReactComponent };","import React, { useCallback, useState } from 'react';\nimport { Movie } from '../../models/movie';\nimport styles from './styles.module.scss';\nimport Image from '../Image';\nimport Card from '../Card';\nimport classnames from 'classnames';\nimport MovieAction from '../MovieAction';\nimport { ReactComponent as Star } from '../../assets/icons/star.svg';\nimport { ReactComponent as WatchLater } from '../../assets/icons/plus.svg';\nimport movieStorage, { StorageKeys } from '../../services/movieStorage';\nimport toast from 'react-simple-toasts';\n\ninterface Props {\n  data: Movie;\n  className?: string;\n  onChange?: (item: Movie) => void;\n}\n\nfunction MovieItem({ data, className, onChange }: Props) {\n  const [favorite, setFavorite] = useState(\n    movieStorage.findInFavorites(data.id)\n  );\n  const [watchListed, setWatchList] = useState(\n    movieStorage.findInWatchList(data.id)\n  );\n\n  const handleToggleFavorite = useCallback(() => {\n    if (favorite) {\n      movieStorage.remove(StorageKeys.FAVORITE, data.id);\n    } else {\n      movieStorage.set(StorageKeys.FAVORITE, data);\n      toast(`${data.title} added to your favorites list`);\n    }\n\n    setFavorite(state => !state);\n\n    if (onChange) {\n      onChange(data);\n    }\n  }, [data, favorite, onChange]);\n\n  const handleToggleWatchList = useCallback(() => {\n    if (watchListed) {\n      movieStorage.remove(StorageKeys.WATCH_LIST, data.id);\n    } else {\n      movieStorage.set(StorageKeys.WATCH_LIST, data);\n      toast(`${data.title} added to your watch list`);\n    }\n\n    setWatchList(state => !state);\n\n    if (onChange) {\n      onChange(data);\n    }\n  }, [data, onChange, watchListed]);\n\n  return (\n    <div className={classnames(styles.movieItem, className)}>\n      <Card>\n        <Image\n          className={styles.poster}\n          src={data.poster_path}\n          alt={data.title}\n        />\n        <div className={styles.content}>\n          <h2 className={styles.title} title={data.title}>\n            {data.title}\n          </h2>\n          <small>Release: {data.release_date}</small>\n        </div>\n\n        <div className={styles.actions}>\n          <MovieAction\n            label=\"Watch Later\"\n            icon={WatchLater}\n            active={watchListed}\n            onClick={handleToggleWatchList}\n          />\n          <MovieAction\n            label=\"Favorite\"\n            icon={Star}\n            active={favorite}\n            onClick={handleToggleFavorite}\n          />\n        </div>\n      </Card>\n    </div>\n  );\n}\n\nexport type { Props as MovieItemProps };\n\nexport default MovieItem;\n","// extracted by mini-css-extract-plugin\nexport default {\"ellipsis\":\"styles_ellipsis__v5oAr\",\"results\":\"styles_results__rV1M+\",\"movieItem\":\"styles_movieItem__LJY-u\"};","import { Movie } from '../../models/movie';\nimport MovieItem, { MovieItemProps } from '../MovieItem';\nimport styles from './styles.module.scss';\n\ninterface Props {\n  movies: Movie[];\n  onChange?: MovieItemProps['onChange'];\n}\n\nfunction MoviesList({ movies, onChange }: Props) {\n  return (\n    <div className={styles.results}>\n      {movies.map(movie => (\n        <MovieItem\n          key={movie.id}\n          onChange={onChange}\n          className={styles.movieItem}\n          data={movie}\n        />\n      ))}\n    </div>\n  );\n}\n\nexport default MoviesList;\n","// extracted by mini-css-extract-plugin\nexport default {\"ellipsis\":\"styles_ellipsis__p5EOX\",\"searchInputContainer\":\"styles_searchInputContainer__JAdns\",\"moviesList\":\"styles_moviesList__egjl5\"};","import styles from './styles.module.scss';\nimport MoviesList from '../../components/MoviesList';\nimport movieStorage, { StorageKeys } from '../../services/movieStorage';\nimport { useCallback, useState } from 'react';\nimport EmptyList from '../../components/EmptyList';\nimport sortByCreatedDate from '../../utils/sortByReleaseDate';\n\nfunction WatchList() {\n  const [movies, setMovies] = useState(getMovies());\n\n  const hasMovies = movies.length > 0;\n\n  const handleChange = useCallback(() => {\n    setMovies(getMovies());\n  }, []);\n\n  return (\n    <div className={styles.moviesList}>\n      {hasMovies ? (\n        <MoviesList onChange={handleChange} movies={movies} />\n      ) : (\n        <EmptyList />\n      )}\n    </div>\n  );\n}\n\nfunction getMovies() {\n  return sortByCreatedDate(movieStorage.getArray(StorageKeys.WATCH_LIST));\n}\n\nexport default WatchList;\n","import { Movie } from '../models/movie';\nimport storage from './storage';\n\nexport enum StorageKeys {\n  FAVORITE = 'FAVORITE',\n  WATCH_LIST = 'WATCH_LIST',\n}\n\ntype Movies = Record<string, Movie>;\n\nconst movieStorage = {\n  get(key: StorageKeys): Movies {\n    const movies = storage.get(key);\n\n    return movies ?? {};\n  },\n  set(key: StorageKeys, item: Movie) {\n    const movies = this.get(key);\n\n    movies[item.id] = {\n      ...item,\n      created_at: new Date().toUTCString(),\n    };\n\n    storage.set(key, movies);\n  },\n  remove(key: StorageKeys, id: number) {\n    const movies = this.get(key);\n\n    Reflect.deleteProperty(movies, id);\n\n    storage.set(key, movies);\n  },\n  findItems(key: StorageKeys, id: number) {\n    const items = this.get(key);\n\n    return Boolean(items[id]);\n  },\n  findInFavorites(id: number) {\n    return this.findItems(StorageKeys.FAVORITE, id);\n  },\n  findInWatchList(id: number) {\n    return this.findItems(StorageKeys.WATCH_LIST, id);\n  },\n  getArray(key: StorageKeys): Movie[] {\n    return Object.values(this.get(key));\n  },\n};\n\nexport default movieStorage;\n","const cache = {};\n\nconst storage = {\n  get(key: string) {\n    const value = localStorage.getItem(key);\n    if (value) {\n      const parsedValue = JSON.parse(value);\n      this.setCache(key, parsedValue);\n\n      return parsedValue;\n    }\n  },\n  set(key: string, value: any) {\n    localStorage.setItem(key, JSON.stringify(value));\n    this.setCache(key, value);\n  },\n  setCache(key: string, value: any) {\n    cache[key] = value;\n  },\n};\n\nexport default storage;\n","import { Movie } from '../models/movie';\n\nexport default function sortByCreatedDate(movies: Movie[]) {\n  return movies.sort((a, b) =>\n    a.created_at && b.created_at\n      ? new Date(b.created_at).getTime() - new Date(a.created_at).getTime()\n      : 0\n  );\n}\n"],"names":["className","styles","getPosterUrl","path","noImage","src","alt","props","decoding","loading","children","_path","active","Icon","icon","label","onClick","classnames","title","_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","SvgStar","_ref","svgRef","titleId","xmlns","width","height","viewBox","ref","undefined","id","d","ForwardRef","SvgPlus","data","onChange","useState","movieStorage","favorite","setFavorite","watchListed","setWatchList","handleToggleFavorite","useCallback","StorageKeys","toast","state","handleToggleWatchList","poster_path","release_date","WatchLater","Star","movies","map","movie","getMovies","sortByCreatedDate","setMovies","hasMovies","handleChange","MoviesList","EmptyList","cache","get","value","localStorage","getItem","parsedValue","JSON","parse","setCache","set","setItem","stringify","storage","item","created_at","Date","toUTCString","remove","Reflect","deleteProperty","findItems","items","Boolean","findInFavorites","FAVORITE","findInWatchList","WATCH_LIST","getArray","values","sort","a","b","getTime"],"sourceRoot":""}